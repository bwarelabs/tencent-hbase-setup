# Tencent HBASE setup

- [Tencent HBASE setup](#tencent-hbase-setup)
  - [Description](#description)
  - [Provisioning](#provisioning)
    - [the infrastructure](#the-infrastructure)
    - [the Zookeeper cluster](#the-zookeeper-cluster)
    - [the HDFS cluster](#the-hdfs-cluster)
    - [the Hbase cluster](#the-hbase-cluster)
  - [Requirements](#requirements)
  - [Providers](#providers)
  - [Modules](#modules)
  - [Resources](#resources)
  - [Inputs](#inputs)
  - [Outputs](#outputs)

## Description

This Terraform repository is used to bootstrap a Solana HBase cluster for storing blockchain data. As with most Hadoop ecosystems, this stack consists of several key components as outlined below:  

**Configuration Management**:  
Zookeeper Cluster - Utilized by the Hadoop ecosystem for storing configuration details.  
JournalNode Cluster - Employed by the HDFS filesystem to store journal data.  
By default, Zookeeper and JournalNode are co-located on the same nodes. The cluster is initially configured with three nodes.

**Management Nodes**:  
HDFS NameNodes - Responsible for managing the HDFS worker nodes, these are crucial to the Hadoop ecosystem. The setup uses an active-passive NameNode configuration that supports failover in case the primary node fails. High availability (HA) is managed through Zookeeper.  
HBase Master Nodes - These nodes manage the HBase setup, including overseeing the region servers.  
Both the HDFS NameNodes and HBase Master Nodes are co-located on the same nodes. By default, two management nodes are provisioned.  

**Worker Nodes**:  
HDFS DataNodes - These nodes store the actual data within the filesystem and are managed by the HDFS NameNodes.  
HBase Region Servers - These servers store HBase data and are managed by the HBase Master Nodes.  
The pool of worker nodes can be scaled as needed by increasing the number of servers and then reapplying the Terraform configurations and associated commands.  

## Provisioning

The following sections provide a detailed guide on the steps required to bootstrap a new HBase cluster. Several tasks must be completed to ensure the successful deployment of the entire cluster. Initially, the infrastructure must be provisioned in the cloud. Following that, a series of Tencent Automation Tools (TAT) commands must be executed for each category of machines, as outlined in the subsequent sections.

### the infrastructure

In this section, the infrastructure is provisioned, which by default will create a total of eight machines within Tencent Cloud. Various parameters can be adjusted for each category of machines, as detailed in the Inputs section.

### the Zookeeper cluster

### the HDFS cluster

### the Hbase cluster

## Requirements

| Name                                                                               | Version    |
| ---------------------------------------------------------------------------------- | ---------- |
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform)          | >=1.5      |
| <a name="requirement_external"></a> [external](#requirement\_external)             | >=2.3.1    |
| <a name="requirement_tencentcloud"></a> [tencentcloud](#requirement\_tencentcloud) | >= 1.81.32 |

## Providers

| Name                                                                         | Version  |
| ---------------------------------------------------------------------------- | -------- |
| <a name="provider_tencentcloud"></a> [tencentcloud](#provider\_tencentcloud) | 1.81.106 |

## Modules

| Name                                             | Source            | Version |
| ------------------------------------------------ | ----------------- | ------- |
| <a name="module_acls"></a> [acls](#module\_acls) | ./modules/vpc_acl | n/a     |

## Resources

| Name                                                                                                                                                                                  | Type        |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- |
| [tencentcloud_eip.nat_eip](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/eip)                                                          | resource    |
| [tencentcloud_instance.hbase_management_node](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/instance)                                  | resource    |
| [tencentcloud_instance.hbase_workers_node](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/instance)                                     | resource    |
| [tencentcloud_instance.zookeeper_node](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/instance)                                         | resource    |
| [tencentcloud_nat_gateway.nat](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/nat_gateway)                                              | resource    |
| [tencentcloud_route_table.route_table](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/route_table)                                      | resource    |
| [tencentcloud_route_table_entry.route_entry](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/route_table_entry)                          | resource    |
| [tencentcloud_security_group.hbase_management_sg](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/security_group)                        | resource    |
| [tencentcloud_security_group.hbase_workers_sg](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/security_group)                           | resource    |
| [tencentcloud_security_group.zookeeper_sg](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/security_group)                               | resource    |
| [tencentcloud_security_group_rule_set.hbase_management_sg_rule](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/security_group_rule_set) | resource    |
| [tencentcloud_security_group_rule_set.hbase_workers_sg_rule](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/security_group_rule_set)    | resource    |
| [tencentcloud_security_group_rule_set.zookeeper_sg_rule](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/security_group_rule_set)        | resource    |
| [tencentcloud_subnet.subnet](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/subnet)                                                     | resource    |
| [tencentcloud_tat_command.hbase-setup-common-nodes](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/tat_command)                         | resource    |
| [tencentcloud_tat_command.hbase-setup-master](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/tat_command)                               | resource    |
| [tencentcloud_tat_command.hbase-setup-region-servers](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/tat_command)                       | resource    |
| [tencentcloud_tat_command.hdfs-setup-common-nodes](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/tat_command)                          | resource    |
| [tencentcloud_tat_command.hdfs-setup-namenodes](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/tat_command)                             | resource    |
| [tencentcloud_tat_command.hdfs-setup-workernodes](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/tat_command)                           | resource    |
| [tencentcloud_tat_command.qjournal-setup](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/tat_command)                                   | resource    |
| [tencentcloud_tat_command.zookeeper-setup](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/tat_command)                                  | resource    |
| [tencentcloud_vpc.vpc](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/resources/vpc)                                                              | resource    |
| [tencentcloud_images.hbase_management_image](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/data-sources/images)                                  | data source |
| [tencentcloud_images.hbase_workers_image](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/data-sources/images)                                     | data source |
| [tencentcloud_images.zookeeper_image](https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs/data-sources/images)                                         | data source |

## Inputs

| Name                                                                                                                                                                                                 | Description                                                                                                                             | Type                                                                                                                                                                      | Default                                                                                                                                                                                                                                                                                                                                          | Required |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :------: |
| <a name="input_create_route_table"></a> [create\_route\_table](#input\_create\_route\_table)                                                                                                         | Enable the creation of the route table                                                                                                  | `bool`                                                                                                                                                                    | `true`                                                                                                                                                                                                                                                                                                                                           |    no    |
| <a name="input_create_vpc"></a> [create\_vpc](#input\_create\_vpc)                                                                                                                                   | Enable the creation of the VPC                                                                                                          | `bool`                                                                                                                                                                    | `true`                                                                                                                                                                                                                                                                                                                                           |    no    |
| <a name="input_enable_nat_gateway"></a> [enable\_nat\_gateway](#input\_enable\_nat\_gateway)                                                                                                         | Enable the creation of the NAT gateway                                                                                                  | `bool`                                                                                                                                                                    | `true`                                                                                                                                                                                                                                                                                                                                           |    no    |
| <a name="input_hadoop_data_dir"></a> [hadoop\_data\_dir](#input\_hadoop\_data\_dir)                                                                                                                  | HADOOP data directory                                                                                                                   | `string`                                                                                                                                                                  | `"/var/lib/hadoop"`                                                                                                                                                                                                                                                                                                                              |    no    |
| <a name="input_hadoop_home"></a> [hadoop\_home](#input\_hadoop\_home)                                                                                                                                | HADOOP home directory                                                                                                                   | `string`                                                                                                                                                                  | `"/usr/local/hadoop"`                                                                                                                                                                                                                                                                                                                            |    no    |
| <a name="input_hadoop_version"></a> [hadoop\_version](#input\_hadoop\_version)                                                                                                                       | HADOOP version to use in the infrastructure                                                                                             | `string`                                                                                                                                                                  | `"3.4.0"`                                                                                                                                                                                                                                                                                                                                        |    no    |
| <a name="input_hbase_home"></a> [hbase\_home](#input\_hbase\_home)                                                                                                                                   | HBASE home directory                                                                                                                    | `string`                                                                                                                                                                  | `"/usr/local/hbase"`                                                                                                                                                                                                                                                                                                                             |    no    |
| <a name="input_hbase_version"></a> [hbase\_version](#input\_hbase\_version)                                                                                                                          | HBASE version to use in the infrastructure                                                                                              | `string`                                                                                                                                                                  | `"2.6.0"`                                                                                                                                                                                                                                                                                                                                        |    no    |
| <a name="input_java_home"></a> [java\_home](#input\_java\_home)                                                                                                                                      | Java home directory                                                                                                                     | `string`                                                                                                                                                                  | `"/usr/lib/jvm/java-1.8.0"`                                                                                                                                                                                                                                                                                                                      |    no    |
| <a name="input_management_availability_zone"></a> [management\_availability\_zone](#input\_management\_availability\_zone)                                                                           | n/a                                                                                                                                     | `string`                                                                                                                                                                  | `"The instance availability zone"`                                                                                                                                                                                                                                                                                                               |    no    |
| <a name="input_management_data_disk_encrypt"></a> [management\_data\_disk\_encrypt](#input\_management\_data\_disk\_encrypt)                                                                         | Enable data disk encryption                                                                                                             | `bool`                                                                                                                                                                    | `false`                                                                                                                                                                                                                                                                                                                                          |    no    |
| <a name="input_management_data_disk_size"></a> [management\_data\_disk\_size](#input\_management\_data\_disk\_size)                                                                                  | The instace data disk size                                                                                                              | `number`                                                                                                                                                                  | `50`                                                                                                                                                                                                                                                                                                                                             |    no    |
| <a name="input_management_data_disk_type"></a> [management\_data\_disk\_type](#input\_management\_data\_disk\_type)                                                                                  | The instace data disk type                                                                                                              | `string`                                                                                                                                                                  | `"CLOUD_BSSD"`                                                                                                                                                                                                                                                                                                                                   |    no    |
| <a name="input_management_force_delete"></a> [management\_force\_delete](#input\_management\_force\_delete)                                                                                          | Indicate whether to force delete the instance                                                                                           | `bool`                                                                                                                                                                    | `false`                                                                                                                                                                                                                                                                                                                                          |    no    |
| <a name="input_management_image_id"></a> [management\_image\_id](#input\_management\_image\_id)                                                                                                      | The Hbase managemen node image id, if this is provided then it will override other image parameters below                               | `string`                                                                                                                                                                  | `"img-eb30mz89"`                                                                                                                                                                                                                                                                                                                                 |    no    |
| <a name="input_management_image_name_regex"></a> [management\_image\_name\_regex](#input\_management\_image\_name\_regex)                                                                            | The Hbase managemen node image id, if this is provided then it will override other image parameters below                               | `string`                                                                                                                                                                  | `"Solana"`                                                                                                                                                                                                                                                                                                                                       |    no    |
| <a name="input_management_image_type"></a> [management\_image\_type](#input\_management\_image\_type)                                                                                                | The Hbase managemen node image type, this parameter and management\_image\_name\_regex are used only if image\_id is set to empty value | `list(string)`                                                                                                                                                            | <pre>[<br>  "PUBLIC_IMAGE"<br>]</pre>                                                                                                                                                                                                                                                                                                            |    no    |
| <a name="input_management_instance_charge_type"></a> [management\_instance\_charge\_type](#input\_management\_instance\_charge\_type)                                                                | The charge type of instance                                                                                                             | `string`                                                                                                                                                                  | `"POSTPAID_BY_HOUR"`                                                                                                                                                                                                                                                                                                                             |    no    |
| <a name="input_management_instance_charge_type_prepaid_period"></a> [management\_instance\_charge\_type\_prepaid\_period](#input\_management\_instance\_charge\_type\_prepaid\_period)               | The tenancy (time unit is month) of the prepaid instance                                                                                | `number`                                                                                                                                                                  | `1`                                                                                                                                                                                                                                                                                                                                              |    no    |
| <a name="input_management_instance_charge_type_prepaid_renew_flag"></a> [management\_instance\_charge\_type\_prepaid\_renew\_flag](#input\_management\_instance\_charge\_type\_prepaid\_renew\_flag) | Auto renewal flag                                                                                                                       | `string`                                                                                                                                                                  | `"NOTIFY_AND_MANUAL_RENEW"`                                                                                                                                                                                                                                                                                                                      |    no    |
| <a name="input_management_instance_count"></a> [management\_instance\_count](#input\_management\_instance\_count)                                                                                    | The number of Hbase management nodes to bootstrap                                                                                       | `number`                                                                                                                                                                  | `2`                                                                                                                                                                                                                                                                                                                                              |    no    |
| <a name="input_management_instance_name"></a> [management\_instance\_name](#input\_management\_instance\_name)                                                                                       | The instace management name prefix                                                                                                      | `string`                                                                                                                                                                  | `"hbase-management"`                                                                                                                                                                                                                                                                                                                             |    no    |
| <a name="input_management_instance_project"></a> [management\_instance\_project](#input\_management\_instance\_project)                                                                              | The project the instance belongs to                                                                                                     | `number`                                                                                                                                                                  | `0`                                                                                                                                                                                                                                                                                                                                              |    no    |
| <a name="input_management_instance_tags"></a> [management\_instance\_tags](#input\_management\_instance\_tags)                                                                                       | Specify one or more tags for the instance                                                                                               | `map(string)`                                                                                                                                                             | <pre>{<br>  "network": "tencent",<br>  "type": "management"<br>}</pre>                                                                                                                                                                                                                                                                           |    no    |
| <a name="input_management_instance_type"></a> [management\_instance\_type](#input\_management\_instance\_type)                                                                                       | The instace type                                                                                                                        | `string`                                                                                                                                                                  | `"SA5.MEDIUM4"`                                                                                                                                                                                                                                                                                                                                  |    no    |
| <a name="input_management_subnet_id"></a> [management\_subnet\_id](#input\_management\_subnet\_id)                                                                                                   | The subnet id for the instance                                                                                                          | `string`                                                                                                                                                                  | `""`                                                                                                                                                                                                                                                                                                                                             |    no    |
| <a name="input_management_system_disk_size"></a> [management\_system\_disk\_size](#input\_management\_system\_disk\_size)                                                                            | The instace system disk size                                                                                                            | `number`                                                                                                                                                                  | `50`                                                                                                                                                                                                                                                                                                                                             |    no    |
| <a name="input_management_system_disk_type"></a> [management\_system\_disk\_type](#input\_management\_system\_disk\_type)                                                                            | The instace system disk type                                                                                                            | `string`                                                                                                                                                                  | `"CLOUD_BSSD"`                                                                                                                                                                                                                                                                                                                                   |    no    |
| <a name="input_nat_gateway_bandwidth"></a> [nat\_gateway\_bandwidth](#input\_nat\_gateway\_bandwidth)                                                                                                | bandwidth of NAT Gateway                                                                                                                | `number`                                                                                                                                                                  | `100`                                                                                                                                                                                                                                                                                                                                            |    no    |
| <a name="input_nat_gateway_concurrent"></a> [nat\_gateway\_concurrent](#input\_nat\_gateway\_concurrent)                                                                                             | bandwidth of NAT Gateway                                                                                                                | `number`                                                                                                                                                                  | `1000000`                                                                                                                                                                                                                                                                                                                                        |    no    |
| <a name="input_nat_gateway_public_ips"></a> [nat\_gateway\_public\_ips](#input\_nat\_gateway\_public\_ips)                                                                                           | The list of public IPs associated with the NAT gateway                                                                                  | `list(string)`                                                                                                                                                            | `[]`                                                                                                                                                                                                                                                                                                                                             |    no    |
| <a name="input_nat_gateway_tags"></a> [nat\_gateway\_tags](#input\_nat\_gateway\_tags)                                                                                                               | Specify one or more tags for the NAT gateway                                                                                            | `map(string)`                                                                                                                                                             | <pre>{<br>  "network": "tencent",<br>  "type": "hbase"<br>}</pre>                                                                                                                                                                                                                                                                                |    no    |
| <a name="input_route_entries"></a> [route\_entries](#input\_route\_entries)                                                                                                                          | n/a                                                                                                                                     | <pre>list(object({<br>    destination_cidr_block = string<br>    next_type              = string<br>    next_hub               = string<br>  }))</pre>                    | <pre>[<br>  {<br>    "destination_cidr_block": "0.0.0.0/0",<br>    "next_hub": "0",<br>    "next_type": "NAT"<br>  }<br>]</pre>                                                                                                                                                                                                                  |    no    |
| <a name="input_route_table_id"></a> [route\_table\_id](#input\_route\_table\_id)                                                                                                                     | Specify a route table id if you want to reuse an existing route table                                                                   | `string`                                                                                                                                                                  | `""`                                                                                                                                                                                                                                                                                                                                             |    no    |
| <a name="input_route_table_tags"></a> [route\_table\_tags](#input\_route\_table\_tags)                                                                                                               | Specify one or more tags for the route table                                                                                            | `map(string)`                                                                                                                                                             | <pre>{<br>  "network": "tencent",<br>  "type": "hbase"<br>}</pre>                                                                                                                                                                                                                                                                                |    no    |
| <a name="input_stack"></a> [stack](#input\_stack)                                                                                                                                                    | Specify a stack name that would be prefixed to each resource created with this module                                                   | `string`                                                                                                                                                                  | `"tencent-"`                                                                                                                                                                                                                                                                                                                                     |    no    |
| <a name="input_subnet_cidrs"></a> [subnet\_cidrs](#input\_subnet\_cidrs)                                                                                                                             | Specify one or more subnets to create within the VPC, either use this parameter or subnet\_ids but not both                             | <pre>list(object({<br>    name              = string<br>    cidr_block        = string<br>    is_multicast      = string<br>    availability_zone = string<br>  }))</pre> | <pre>[<br>  {<br>    "availability_zone": "eu-frankfurt-1",<br>    "cidr_block": "172.16.1.0/24",<br>    "is_multicast": true,<br>    "name": "hbase_subnet_1"<br>  },<br>  {<br>    "availability_zone": "eu-frankfurt-2",<br>    "cidr_block": "172.16.2.0/24",<br>    "is_multicast": true,<br>    "name": "hbase_subnet_2"<br>  }<br>]</pre> |    no    |
| <a name="input_subnet_ids"></a> [subnet\_ids](#input\_subnet\_ids)                                                                                                                                   | Specify existing subnet ids without creating them using this module, if this is specified then subnet\_cidrs must NOT be configured     | `list(string)`                                                                                                                                                            | `[]`                                                                                                                                                                                                                                                                                                                                             |    no    |
| <a name="input_subnets_tags"></a> [subnets\_tags](#input\_subnets\_tags)                                                                                                                             | Specify one or more tags for the subnets                                                                                                | `map(string)`                                                                                                                                                             | <pre>{<br>  "network": "tencent",<br>  "type": "hbase"<br>}</pre>                                                                                                                                                                                                                                                                                |    no    |
| <a name="input_vpc_acl_tags"></a> [vpc\_acl\_tags](#input\_vpc\_acl\_tags)                                                                                                                           | Specify one or more tags for the VPC ACLs                                                                                               | `map(string)`                                                                                                                                                             | <pre>{<br>  "network": "tencent",<br>  "type": "hbase"<br>}</pre>                                                                                                                                                                                                                                                                                |    no    |
| <a name="input_vpc_acls"></a> [vpc\_acls](#input\_vpc\_acls)                                                                                                                                         | Specify one or more ACLs to attach to the subnets                                                                                       | <pre>list(object({<br>    name    = string<br>    ingress = list(string)<br>    egress  = list(string)<br><br>  }))</pre>                                                 | <pre>[<br>  {<br>    "egress": [<br>      "ACCEPT#0.0.0.0/0#ALL#ALL"<br>    ],<br>    "ingress": [<br>      "ACCEPT#0.0.0.0/0#ALL#ALL"<br>    ],<br>    "name": "egress-acl"<br>  }<br>]</pre>                                                                                                                                                   |    no    |
| <a name="input_vpc_cidr"></a> [vpc\_cidr](#input\_vpc\_cidr)                                                                                                                                         | The CIDR block that will be used by the VPC                                                                                             | `string`                                                                                                                                                                  | `"172.16.0.0/16"`                                                                                                                                                                                                                                                                                                                                |    no    |
| <a name="input_vpc_dns_servers"></a> [vpc\_dns\_servers](#input\_vpc\_dns\_servers)                                                                                                                  | Specify one or more DNS servers to be used within the VPC                                                                               | `set(string)`                                                                                                                                                             | `[]`                                                                                                                                                                                                                                                                                                                                             |    no    |
| <a name="input_vpc_id"></a> [vpc\_id](#input\_vpc\_id)                                                                                                                                               | Specify a VPC id if you want to deploy the Hbase nodes within a existing VPC                                                            | `string`                                                                                                                                                                  | `""`                                                                                                                                                                                                                                                                                                                                             |    no    |
| <a name="input_vpc_is_multicast"></a> [vpc\_is\_multicast](#input\_vpc\_is\_multicast)                                                                                                               | Enable or disable VPC multicast                                                                                                         | `bool`                                                                                                                                                                    | `true`                                                                                                                                                                                                                                                                                                                                           |    no    |
| <a name="input_vpc_name"></a> [vpc\_name](#input\_vpc\_name)                                                                                                                                         | Tencent VPC name                                                                                                                        | `string`                                                                                                                                                                  | `"tencent_hbase"`                                                                                                                                                                                                                                                                                                                                |    no    |
| <a name="input_vpc_tags"></a> [vpc\_tags](#input\_vpc\_tags)                                                                                                                                         | Specify one or more tags for the VPC                                                                                                    | `map(string)`                                                                                                                                                             | <pre>{<br>  "network": "tencent",<br>  "type": "hbase"<br>}</pre>                                                                                                                                                                                                                                                                                |    no    |
| <a name="input_workers_availability_zone"></a> [workers\_availability\_zone](#input\_workers\_availability\_zone)                                                                                    | n/a                                                                                                                                     | `string`                                                                                                                                                                  | `"The instance availability zone"`                                                                                                                                                                                                                                                                                                               |    no    |
| <a name="input_workers_data_disk_encrypt"></a> [workers\_data\_disk\_encrypt](#input\_workers\_data\_disk\_encrypt)                                                                                  | Enable workers disk encryption                                                                                                          | `bool`                                                                                                                                                                    | `false`                                                                                                                                                                                                                                                                                                                                          |    no    |
| <a name="input_workers_data_disk_size"></a> [workers\_data\_disk\_size](#input\_workers\_data\_disk\_size)                                                                                           | The instace workers disk size                                                                                                           | `number`                                                                                                                                                                  | `50`                                                                                                                                                                                                                                                                                                                                             |    no    |
| <a name="input_workers_data_disk_type"></a> [workers\_data\_disk\_type](#input\_workers\_data\_disk\_type)                                                                                           | The instace workers disk type                                                                                                           | `string`                                                                                                                                                                  | `"CLOUD_BSSD"`                                                                                                                                                                                                                                                                                                                                   |    no    |
| <a name="input_workers_force_delete"></a> [workers\_force\_delete](#input\_workers\_force\_delete)                                                                                                   | Indicate whether to force delete the instance                                                                                           | `bool`                                                                                                                                                                    | `false`                                                                                                                                                                                                                                                                                                                                          |    no    |
| <a name="input_workers_image_id"></a> [workers\_image\_id](#input\_workers\_image\_id)                                                                                                               | The Hbase worker node image id, if this is provided then it will override other image parameters below                                  | `string`                                                                                                                                                                  | `"img-eb30mz89"`                                                                                                                                                                                                                                                                                                                                 |    no    |
| <a name="input_workers_image_name_regex"></a> [workers\_image\_name\_regex](#input\_workers\_image\_name\_regex)                                                                                     | The Hbase worker node image id, if this is provided then it will override other image parameters below                                  | `string`                                                                                                                                                                  | `"Solana"`                                                                                                                                                                                                                                                                                                                                       |    no    |
| <a name="input_workers_image_type"></a> [workers\_image\_type](#input\_workers\_image\_type)                                                                                                         | The Hbase worker node image type, this parameter and image\_name\_regex are used only if image\_id is set to empty value                | `list(string)`                                                                                                                                                            | <pre>[<br>  "PUBLIC_IMAGE"<br>]</pre>                                                                                                                                                                                                                                                                                                            |    no    |
| <a name="input_workers_instance_charge_type"></a> [workers\_instance\_charge\_type](#input\_workers\_instance\_charge\_type)                                                                         | The charge type of instance                                                                                                             | `string`                                                                                                                                                                  | `"POSTPAID_BY_HOUR"`                                                                                                                                                                                                                                                                                                                             |    no    |
| <a name="input_workers_instance_charge_type_prepaid_period"></a> [workers\_instance\_charge\_type\_prepaid\_period](#input\_workers\_instance\_charge\_type\_prepaid\_period)                        | The tenancy (time unit is month) of the prepaid instance                                                                                | `number`                                                                                                                                                                  | `1`                                                                                                                                                                                                                                                                                                                                              |    no    |
| <a name="input_workers_instance_charge_type_prepaid_renew_flag"></a> [workers\_instance\_charge\_type\_prepaid\_renew\_flag](#input\_workers\_instance\_charge\_type\_prepaid\_renew\_flag)          | Auto renewal flag                                                                                                                       | `string`                                                                                                                                                                  | `"NOTIFY_AND_MANUAL_RENEW"`                                                                                                                                                                                                                                                                                                                      |    no    |
| <a name="input_workers_instance_count"></a> [workers\_instance\_count](#input\_workers\_instance\_count)                                                                                             | The number of Hbase worker nodes to bootstrap                                                                                           | `number`                                                                                                                                                                  | `2`                                                                                                                                                                                                                                                                                                                                              |    no    |
| <a name="input_workers_instance_name"></a> [workers\_instance\_name](#input\_workers\_instance\_name)                                                                                                | The instace name prefix                                                                                                                 | `string`                                                                                                                                                                  | `"hbase-worker"`                                                                                                                                                                                                                                                                                                                                 |    no    |
| <a name="input_workers_instance_project"></a> [workers\_instance\_project](#input\_workers\_instance\_project)                                                                                       | The project the instance belongs to                                                                                                     | `number`                                                                                                                                                                  | `0`                                                                                                                                                                                                                                                                                                                                              |    no    |
| <a name="input_workers_instance_tags"></a> [workers\_instance\_tags](#input\_workers\_instance\_tags)                                                                                                | Specify one or more tags for the instance                                                                                               | `map(string)`                                                                                                                                                             | <pre>{<br>  "network": "tencent",<br>  "type": "worker"<br>}</pre>                                                                                                                                                                                                                                                                               |    no    |
| <a name="input_workers_instance_type"></a> [workers\_instance\_type](#input\_workers\_instance\_type)                                                                                                | The instace type                                                                                                                        | `string`                                                                                                                                                                  | `"SA5.MEDIUM4"`                                                                                                                                                                                                                                                                                                                                  |    no    |
| <a name="input_workers_subnet_id"></a> [workers\_subnet\_id](#input\_workers\_subnet\_id)                                                                                                            | The subnet id for the instance                                                                                                          | `string`                                                                                                                                                                  | `""`                                                                                                                                                                                                                                                                                                                                             |    no    |
| <a name="input_workers_system_disk_size"></a> [workers\_system\_disk\_size](#input\_workers\_system\_disk\_size)                                                                                     | The instace system disk size                                                                                                            | `number`                                                                                                                                                                  | `50`                                                                                                                                                                                                                                                                                                                                             |    no    |
| <a name="input_workers_system_disk_type"></a> [workers\_system\_disk\_type](#input\_workers\_system\_disk\_type)                                                                                     | The instace system disk type                                                                                                            | `string`                                                                                                                                                                  | `"CLOUD_BSSD"`                                                                                                                                                                                                                                                                                                                                   |    no    |
| <a name="input_zookeeper_availability_zone"></a> [zookeeper\_availability\_zone](#input\_zookeeper\_availability\_zone)                                                                              | n/a                                                                                                                                     | `string`                                                                                                                                                                  | `"The instance availability zone"`                                                                                                                                                                                                                                                                                                               |    no    |
| <a name="input_zookeeper_data_dir"></a> [zookeeper\_data\_dir](#input\_zookeeper\_data\_dir)                                                                                                         | Zookeeper data directory                                                                                                                | `string`                                                                                                                                                                  | `"/var/lib/zookeeper"`                                                                                                                                                                                                                                                                                                                           |    no    |
| <a name="input_zookeeper_data_disk_encrypt"></a> [zookeeper\_data\_disk\_encrypt](#input\_zookeeper\_data\_disk\_encrypt)                                                                            | Enable data disk encryption                                                                                                             | `bool`                                                                                                                                                                    | `false`                                                                                                                                                                                                                                                                                                                                          |    no    |
| <a name="input_zookeeper_data_disk_size"></a> [zookeeper\_data\_disk\_size](#input\_zookeeper\_data\_disk\_size)                                                                                     | The instace data disk size                                                                                                              | `number`                                                                                                                                                                  | `50`                                                                                                                                                                                                                                                                                                                                             |    no    |
| <a name="input_zookeeper_data_disk_type"></a> [zookeeper\_data\_disk\_type](#input\_zookeeper\_data\_disk\_type)                                                                                     | The instace data disk type                                                                                                              | `string`                                                                                                                                                                  | `"CLOUD_BSSD"`                                                                                                                                                                                                                                                                                                                                   |    no    |
| <a name="input_zookeeper_force_delete"></a> [zookeeper\_force\_delete](#input\_zookeeper\_force\_delete)                                                                                             | Indicate whether to force delete the instance                                                                                           | `bool`                                                                                                                                                                    | `false`                                                                                                                                                                                                                                                                                                                                          |    no    |
| <a name="input_zookeeper_home"></a> [zookeeper\_home](#input\_zookeeper\_home)                                                                                                                       | Zookeeper home directory                                                                                                                | `string`                                                                                                                                                                  | `"/usr/local/zookeeper"`                                                                                                                                                                                                                                                                                                                         |    no    |
| <a name="input_zookeeper_image_id"></a> [zookeeper\_image\_id](#input\_zookeeper\_image\_id)                                                                                                         | The Zookeeper node image id, if this is provided then it will override other image parameters below                                     | `string`                                                                                                                                                                  | `"img-eb30mz89"`                                                                                                                                                                                                                                                                                                                                 |    no    |
| <a name="input_zookeeper_image_name_regex"></a> [zookeeper\_image\_name\_regex](#input\_zookeeper\_image\_name\_regex)                                                                               | The Zookeeper node image id, if this is provided then it will override other image parameters below                                     | `string`                                                                                                                                                                  | `"Solana"`                                                                                                                                                                                                                                                                                                                                       |    no    |
| <a name="input_zookeeper_image_type"></a> [zookeeper\_image\_type](#input\_zookeeper\_image\_type)                                                                                                   | The Zookeeper node image type, this parameter and zookeeper\_image\_name\_regex are used only if image\_id is set to empty value        | `list(string)`                                                                                                                                                            | <pre>[<br>  "PUBLIC_IMAGE"<br>]</pre>                                                                                                                                                                                                                                                                                                            |    no    |
| <a name="input_zookeeper_instance_charge_type"></a> [zookeeper\_instance\_charge\_type](#input\_zookeeper\_instance\_charge\_type)                                                                   | The charge type of instance                                                                                                             | `string`                                                                                                                                                                  | `"POSTPAID_BY_HOUR"`                                                                                                                                                                                                                                                                                                                             |    no    |
| <a name="input_zookeeper_instance_charge_type_prepaid_period"></a> [zookeeper\_instance\_charge\_type\_prepaid\_period](#input\_zookeeper\_instance\_charge\_type\_prepaid\_period)                  | The tenancy (time unit is month) of the prepaid instance                                                                                | `number`                                                                                                                                                                  | `1`                                                                                                                                                                                                                                                                                                                                              |    no    |
| <a name="input_zookeeper_instance_charge_type_prepaid_renew_flag"></a> [zookeeper\_instance\_charge\_type\_prepaid\_renew\_flag](#input\_zookeeper\_instance\_charge\_type\_prepaid\_renew\_flag)    | Auto renewal flag                                                                                                                       | `string`                                                                                                                                                                  | `"NOTIFY_AND_MANUAL_RENEW"`                                                                                                                                                                                                                                                                                                                      |    no    |
| <a name="input_zookeeper_instance_count"></a> [zookeeper\_instance\_count](#input\_zookeeper\_instance\_count)                                                                                       | The number of Zookeeper nodes to bootstrap                                                                                              | `number`                                                                                                                                                                  | `3`                                                                                                                                                                                                                                                                                                                                              |    no    |
| <a name="input_zookeeper_instance_name"></a> [zookeeper\_instance\_name](#input\_zookeeper\_instance\_name)                                                                                          | The instace zookeeper name prefix                                                                                                       | `string`                                                                                                                                                                  | `"zookeeper"`                                                                                                                                                                                                                                                                                                                                    |    no    |
| <a name="input_zookeeper_instance_project"></a> [zookeeper\_instance\_project](#input\_zookeeper\_instance\_project)                                                                                 | The project the instance belongs to                                                                                                     | `number`                                                                                                                                                                  | `0`                                                                                                                                                                                                                                                                                                                                              |    no    |
| <a name="input_zookeeper_instance_tags"></a> [zookeeper\_instance\_tags](#input\_zookeeper\_instance\_tags)                                                                                          | Specify one or more tags for the instance                                                                                               | `map(string)`                                                                                                                                                             | <pre>{<br>  "network": "tencent",<br>  "type": "zookeeper"<br>}</pre>                                                                                                                                                                                                                                                                            |    no    |
| <a name="input_zookeeper_instance_type"></a> [zookeeper\_instance\_type](#input\_zookeeper\_instance\_type)                                                                                          | The instace type                                                                                                                        | `string`                                                                                                                                                                  | `"SA5.MEDIUM4"`                                                                                                                                                                                                                                                                                                                                  |    no    |
| <a name="input_zookeeper_java_home"></a> [zookeeper\_java\_home](#input\_zookeeper\_java\_home)                                                                                                      | Java home directory                                                                                                                     | `string`                                                                                                                                                                  | `"/usr/lib/jvm/java-1.8.0"`                                                                                                                                                                                                                                                                                                                      |    no    |
| <a name="input_zookeeper_subnet_id"></a> [zookeeper\_subnet\_id](#input\_zookeeper\_subnet\_id)                                                                                                      | The subnet id for the instance                                                                                                          | `string`                                                                                                                                                                  | `""`                                                                                                                                                                                                                                                                                                                                             |    no    |
| <a name="input_zookeeper_system_disk_size"></a> [zookeeper\_system\_disk\_size](#input\_zookeeper\_system\_disk\_size)                                                                               | The instace system disk size                                                                                                            | `number`                                                                                                                                                                  | `50`                                                                                                                                                                                                                                                                                                                                             |    no    |
| <a name="input_zookeeper_system_disk_type"></a> [zookeeper\_system\_disk\_type](#input\_zookeeper\_system\_disk\_type)                                                                               | The instace system disk type                                                                                                            | `string`                                                                                                                                                                  | `"CLOUD_BSSD"`                                                                                                                                                                                                                                                                                                                                   |    no    |
| <a name="input_zookeeper_version"></a> [zookeeper\_version](#input\_zookeeper\_version)                                                                                                              | Zookeeper version to use in the infrastructure                                                                                          | `string`                                                                                                                                                                  | `"3.7.2"`                                                                                                                                                                                                                                                                                                                                        |    no    |

## Outputs

No outputs.
